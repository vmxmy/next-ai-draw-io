# Next AI Draw.ioï¼ˆå¢å¼ºç‰ˆ Forkï¼‰

æœ¬ä»“åº“åŸºäºåŸé¡¹ç›® `DayuanJiang/next-ai-draw-io` äºŒæ¬¡å¼€å‘ï¼Œé‡ç‚¹è¡¥é½äº†â€œè´¦å·ä½“ç³» + äº‘ç«¯èƒ½åŠ› + é…é¢æ²»ç† + ç®¡ç†åå°â€ç­‰å·¥ç¨‹åŒ–èƒ½åŠ›ï¼Œå¹¶å¯¹ AI/ç»˜å›¾å¯é æ€§ä¸ç§»åŠ¨ç«¯ä½“éªŒåšäº†å¢å¼ºã€‚

<div align="center">

**AI é©±åŠ¨çš„ draw.io å›¾è¡¨åˆ›ä½œå·¥å…·ï¼ˆå¯¹è¯ã€ç»˜å›¾ã€å¯è§†åŒ–ï¼‰**

ä¸­æ–‡ï¼ˆæœ¬é¡µï¼‰ | [ä¸­æ–‡ï¼ˆä¸Šæ¸¸ç¿»è¯‘ï¼‰](./docs/README_CN.md) | [æ—¥æœ¬èª](./docs/README_JA.md)

[![License: Apache 2.0](https://img.shields.io/badge/License-Apache%202.0-blue.svg)](https://opensource.org/licenses/Apache-2.0)
[![Next.js](https://img.shields.io/badge/Next.js-16.x-black)](https://nextjs.org/)
[![React](https://img.shields.io/badge/React-19.x-61dafb)](https://react.dev/)

ï¼ˆä¸Šæ¸¸ï¼‰[![Sponsor](https://img.shields.io/badge/Sponsor-â¤-ea4aaa)](https://github.com/sponsors/DayuanJiang)

ï¼ˆæ¼”ç¤ºï¼‰[![Live Demo](./public/live-demo-button.svg)](https://drawio.gaoxin.net.cn/)

</div>

https://github.com/user-attachments/assets/9d60a3e8-4a1c-4b5e-acbb-26af2d3eabd1

## æœ¬ Fork çš„å¢å¼ºåŠŸèƒ½ï¼ˆç›¸å¯¹åŸé¡¹ç›®ï¼‰

> ç›®æ ‡ï¼šåœ¨ä¿ç•™â€œè‡ªç„¶è¯­è¨€ç”Ÿæˆ/ç¼–è¾‘ draw.ioâ€çš„æ ¸å¿ƒä½“éªŒåŸºç¡€ä¸Šï¼Œè¡¥é½å¯è¿è¥ã€å¯æ²»ç†ã€å¯æŒç»­è¿­ä»£çš„å·¥ç¨‹èƒ½åŠ›ã€‚

- **è´¦å·ä½“ç³»ä¸äº‘ç«¯åŒæ­¥**ï¼šé›†æˆ NextAuthï¼ˆGitHub/Google/æ‰‹æœºéªŒè¯ç ï¼‰ï¼Œæ”¯æŒç”¨æˆ·ä¸­å¿ƒä¸ä¼šè¯éš”ç¦»ï¼›å¯¹è¯/ä¼šè¯æ”¯æŒäº‘ç«¯åŒæ­¥ï¼ˆPostgres + Prismaï¼‰ã€‚
- **BYOKï¼ˆè‡ªå¸¦ Keyï¼‰æ²»ç†å‡çº§**ï¼šæ”¯æŒå¤šå‡­è¯ç®¡ç†ã€æ¨¡å¼åˆ‡æ¢ï¼ˆæœ¬åœ°/äº‘ç«¯/BYOKï¼‰ã€æ¨¡å‹åˆ—è¡¨è‡ªåŠ¨åŠ è½½ï¼›BYOK ç”¨æˆ·å¯ç»•è¿‡å…¬å…±é…é¢é™åˆ¶ï¼ŒUI æ˜¾ç¤ºæ›´æ¸…æ™°çš„æ¨¡å¼/é…é¢çŠ¶æ€ã€‚
- **é…é¢ä¸é£æ§**ï¼šåŒ¿åç”¨æˆ·æ”¯æŒ IP çº§åˆ«æ—¥é™/TPM é™æµä¸å®æ—¶é…é¢å±•ç¤ºï¼›é…é¢å¼¹çª—å¯¹åŒ¿åä¸ç™»å½•ç”¨æˆ·ä¸€è‡´å¯ç”¨ï¼Œå¹¶æä¾›æ›´ç»†çš„æç¤ºä¸é˜ˆå€¼é¢œè‰²æŒ‡ç¤ºã€‚
- **ç®¡ç†åå°ï¼ˆAdminï¼‰**ï¼šæ–°å¢ RBACï¼ˆè§’è‰²æƒé™ï¼‰ä¸å®¡è®¡æ—¥å¿—ï¼›æä¾›ç”¨æˆ·/ä¼šè¯/é…é¢/ç­‰çº§/ç³»ç»Ÿé…ç½®/IP ç®¡ç†ç­‰é¡µé¢ï¼Œæ”¯æŒç§»åŠ¨ç«¯è‡ªé€‚åº”ã€‚
- **AI/ç»˜å›¾å¯é æ€§å¢å¼º**ï¼š
  - **A2UI é£æ ¼â€œç»„ä»¶åŒ–ç»˜å›¾â€**ï¼šå¼•å…¥ `display_components` èƒ½åŠ›ï¼Œå°†ç»„ä»¶è§„èŒƒè‡ªåŠ¨è½¬æ¢ä¸º draw.io XMLï¼Œæå‡é•¿å›¾ä¸å¤æ‚å›¾ç”Ÿæˆç¨³å®šæ€§ï¼›å…¼å®¹**éè§†è§‰æ¨¡å‹**åœºæ™¯ã€‚
  - **ç»“æ„åŒ–ç¼–è¾‘ä¸å›æ»š**ï¼š`edit_diagram` å¼ºåˆ¶ç»“æ„åŒ–æ“ä½œï¼ˆadd/update/delete/ç»„ä»¶çº§ addComponentï¼‰ï¼Œå¹¶åŸºäºä¼šè¯æ—¶é—´çº¿é©±åŠ¨ undo/redo ä¸ç‰ˆæœ¬ç»Ÿä¸€ç®¡ç†ã€‚
  - **XML è‡ªåŠ¨ä¿®å¤å¼•æ“**ï¼šé›†æˆ 23+ ä¿®å¤ç­–ç•¥ï¼Œæ˜¾è‘—æå‡å¸¸è§ LLM XML è¾“å‡ºé”™è¯¯çš„è‡ªæ„ˆèƒ½åŠ›ã€‚
- **è¾“å…¥ä¸æ•ˆç‡**ï¼šæ”¯æŒ Firecrawl ç½‘é¡µæŠ“å–ï¼ˆURL é¢„å¤„ç†æ³¨å…¥ä¸Šä¸‹æ–‡ï¼‰ï¼›å›¾ç‰‡è‡ªåŠ¨ç¼©æ”¾ä»¥å‡å°‘è§†è§‰æ¨¡å‹ token æ¶ˆè€—ã€‚
- **ä½“éªŒä¸å¤–è§‚**ï¼šdraw.io UI åˆ‡æ¢ä¸º `kennedy/atlas`ï¼ˆå®Œæ•´å·¥å…·æ ï¼‰ï¼›ä¸»é¢˜ç³»ç»Ÿå‡çº§ï¼ˆtweakcn/shadcnï¼‰ï¼Œæ”¯æŒé¢œè‰²é¢„è§ˆä¸â€œä¸€é”®åº”ç”¨ä¸»é¢˜åˆ°å›¾è¡¨â€ã€‚

## ç›®å½•

- [æœ¬ Fork çš„å¢å¼ºåŠŸèƒ½ï¼ˆç›¸å¯¹åŸé¡¹ç›®ï¼‰](#æœ¬-fork-çš„å¢å¼ºåŠŸèƒ½ç›¸å¯¹åŸé¡¹ç›®)
- [é…é¢ä¸è®¡è´¹è¯´æ˜](#é…é¢ä¸è®¡è´¹è¯´æ˜)
- [å¿«é€Ÿå¼€å§‹](#å¿«é€Ÿå¼€å§‹)
- [è¿è¡Œä¸é…ç½®](#è¿è¡Œä¸é…ç½®)
- [ç¤ºä¾‹](#ç¤ºä¾‹)
- [åŠŸèƒ½ç‰¹æ€§ï¼ˆç»§æ‰¿ä¸Šæ¸¸ï¼‰](#åŠŸèƒ½ç‰¹æ€§ç»§æ‰¿ä¸Šæ¸¸)
- [å¤š Provider æ”¯æŒ](#å¤š-provider-æ”¯æŒ)
- [å·¥ä½œåŸç†](#å·¥ä½œåŸç†)
- [é¡¹ç›®ç»“æ„](#é¡¹ç›®ç»“æ„)
- [å½’å±ä¸è®¸å¯](#å½’å±ä¸è®¸å¯)

## é…é¢ä¸è®¡è´¹è¯´æ˜

### ç”¨æˆ·ç­‰çº§é…é¢

ç³»ç»Ÿé‡‡ç”¨åˆ†çº§é…é¢ç®¡ç†ï¼Œä¸åŒç”¨æˆ·ç­‰çº§äº«æœ‰ä¸åŒçš„ä½¿ç”¨é™åˆ¶ï¼š

| ç­‰çº§ | æ—¥è¯·æ±‚æ•° | æ—¥ Token æ•° | TPM (Token/åˆ†é’Ÿ) | è¯´æ˜ |
|:---:|:---:|:---:|:---:|:---|
| **åŒ¿åç”¨æˆ·** | 10 | 20,000 | 5,000 | æœªç™»å½•ï¼ŒåŸºäº IP é™æµ |
| **å…è´¹ç‰ˆ** | 50 | 100,000 | 10,000 | å·²ç™»å½•ç”¨æˆ·é»˜è®¤ç­‰çº§ |
| **ä¸“ä¸šç‰ˆ** | 500 | 2,000,000 | 50,000 | ä»˜è´¹ç”¨æˆ·ï¼Œæ·±åº¦ä½¿ç”¨ |
| **ä¼ä¸šç‰ˆ** | âˆ | âˆ | âˆ | æ— é™åˆ¶ï¼Œå›¢é˜Ÿ/ä¼ä¸šç”¨æˆ· |

> é…é¢æ¯æ—¥ UTC 00:00 é‡ç½®ã€‚TPM é™åˆ¶ä¸ºæ»‘åŠ¨çª—å£ï¼ˆ60ç§’ï¼‰ã€‚

### æ¨¡å¼è¯´æ˜

#### ç³»ç»Ÿé»˜è®¤ vs BYOKï¼ˆè‡ªå¸¦ Keyï¼‰

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        ä½¿ç”¨æ¨¡å¼é€‰æ‹©                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”             â”‚
â”‚   â”‚   ç³»ç»Ÿé»˜è®¤æ¨¡å¼   â”‚          â”‚    BYOK æ¨¡å¼    â”‚             â”‚
â”‚   â”‚  (System Mode)  â”‚          â”‚  (Bring Your    â”‚             â”‚
â”‚   â”‚                 â”‚          â”‚   Own Key)      â”‚             â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜             â”‚
â”‚            â”‚                            â”‚                       â”‚
â”‚            â–¼                            â–¼                       â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”             â”‚
â”‚   â”‚ â€¢ ä½¿ç”¨å¹³å° API   â”‚          â”‚ â€¢ ä½¿ç”¨è‡ªå·±çš„    â”‚             â”‚
â”‚   â”‚ â€¢ å—é…é¢é™åˆ¶     â”‚          â”‚   API Key       â”‚             â”‚
â”‚   â”‚ â€¢ é€‚åˆè½»åº¦ä½¿ç”¨   â”‚          â”‚ â€¢ ç»•è¿‡æ‰€æœ‰é…é¢  â”‚             â”‚
â”‚   â”‚ â€¢ æ— éœ€é…ç½®       â”‚          â”‚ â€¢ è´¹ç”¨è‡ªç†      â”‚             â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜             â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

| æ¨¡å¼ | é…é¢é™åˆ¶ | API è´¹ç”¨ | é€‚ç”¨åœºæ™¯ |
|:---:|:---:|:---:|:---|
| **ç³»ç»Ÿé»˜è®¤** | å—ç­‰çº§é™åˆ¶ | å¹³å°æ‰¿æ‹… | è½»åº¦ä½¿ç”¨ã€ä½“éªŒåŠŸèƒ½ |
| **BYOK** | æ— é™åˆ¶ | ç”¨æˆ·è‡ªç† | é‡åº¦ä½¿ç”¨ã€ä¸“ä¸šéœ€æ±‚ |

#### Fast vs Max æ¨¡å‹é€‰é¡¹

ç”¨æˆ·å¯åœ¨ç•Œé¢åˆ‡æ¢ä¸¤ç§æ¨¡å‹æ¨¡å¼ï¼Œé€‚åº”ä¸åŒåœºæ™¯ï¼š

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        æ¨¡å‹æ¨¡å¼é€‰æ‹©                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚         âš¡ Fast æ¨¡å¼        â”‚          ğŸ§  Max æ¨¡å¼               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                            â”‚                                    â”‚
â”‚  é»˜è®¤æ¨¡å‹:                  â”‚  é»˜è®¤æ¨¡å‹:                         â”‚
â”‚  qwen-2.5-coder-32b        â”‚  claude-sonnet-4                   â”‚
â”‚                            â”‚                                    â”‚
â”‚  ç‰¹ç‚¹:                      â”‚  ç‰¹ç‚¹:                             â”‚
â”‚  â€¢ å“åº”é€Ÿåº¦å¿«               â”‚  â€¢ æ·±åº¦æ¨ç†èƒ½åŠ›                    â”‚
â”‚  â€¢ Token æ¶ˆè€—å°‘             â”‚  â€¢ å¤æ‚ä»»åŠ¡æ›´å‡†ç¡®                  â”‚
â”‚  â€¢ é€‚åˆç®€å•å›¾è¡¨             â”‚  â€¢ æ”¯æŒ Extended Thinking          â”‚
â”‚  â€¢ æˆæœ¬è¾ƒä½                 â”‚  â€¢ é€‚åˆå¤æ‚æ¶æ„å›¾                  â”‚
â”‚                            â”‚                                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  æ¨èåœºæ™¯:                  â”‚  æ¨èåœºæ™¯:                         â”‚
â”‚  â€¢ å¿«é€ŸåŸå‹                 â”‚  â€¢ ä¼ä¸šæ¶æ„è®¾è®¡                    â”‚
â”‚  â€¢ ç®€å•æµç¨‹å›¾               â”‚  â€¢ å¤æ‚ç³»ç»Ÿå»ºæ¨¡                    â”‚
â”‚  â€¢ æ—¥å¸¸ç»˜å›¾                 â”‚  â€¢ ç²¾ç¡®å¤åˆ»éœ€æ±‚                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

| æ¨¡å¼ | é»˜è®¤æ¨¡å‹ | é€Ÿåº¦ | ç²¾åº¦ | Token æ¶ˆè€— | æ¨èåœºæ™¯ |
|:---:|:---|:---:|:---:|:---:|:---|
| **âš¡ Fast** | qwen-2.5-coder-32b | å¿« | ä¸­ | ä½ | ç®€å•å›¾è¡¨ã€å¿«é€Ÿè¿­ä»£ |
| **ğŸ§  Max** | claude-sonnet-4 | ä¸­ | é«˜ | é«˜ | å¤æ‚æ¶æ„ã€ç²¾ç¡®ä»»åŠ¡ |

> ç®¡ç†å‘˜å¯åœ¨åå°è‡ªå®šä¹‰ Fast/Max æ¨¡å¼çš„é»˜è®¤æ¨¡å‹å’Œ Providerã€‚

## å¿«é€Ÿå¼€å§‹

### 1) å‡†å¤‡ç¯å¢ƒå˜é‡

```bash
cp env.example .env.local
```

è‡³å°‘éœ€è¦é…ç½®ï¼š

- `AI_PROVIDER` / `AI_MODEL` + å¯¹åº” Provider çš„ Keyï¼ˆä¾‹å¦‚ `OPENAI_API_KEY`ï¼‰
- `DATABASE_URL`ï¼ˆPostgresï¼‰
- `ENCRYPTION_KEY`ï¼ˆç”¨äºåŠ å¯†äº‘ç«¯å­˜å‚¨çš„ç”¨æˆ·å‡­è¯ï¼‰
- `NEXTAUTH_URL` / `NEXTAUTH_SECRET`ï¼ˆå¼€å¯ç™»å½•/äº‘ç«¯èƒ½åŠ›æ—¶å¿…å¡«ï¼‰
- `ADMIN_EMAILS`ï¼ˆå¯é€‰ï¼Œé€—å·åˆ†éš”ï¼›ç”¨äºåˆå§‹åŒ–è¶…çº§ç®¡ç†å‘˜è§’è‰²åˆ†é…ï¼‰
- `BOOTSTRAP_ADMIN_ENABLED` / `BOOTSTRAP_ADMIN_ALLOWLIST`ï¼ˆå¯é€‰ï¼šé¦–æ¬¡å®‰è£…â€œå¼€ç®±å¯è¿›åå°â€ï¼Œè§ä¸‹ï¼‰

> OAuth é…ç½®å‚è€ƒï¼š`docs/GOOGLE_OAUTH_SETUP.md` ä¸ NextAuth ç›¸å…³æ–‡æ¡£ã€‚æ‰‹æœºéªŒè¯ç ç™»å½•ä¾èµ–çŸ­ä¿¡æœåŠ¡é…ç½®ï¼ˆè§ `server/services/sms/`ï¼‰ã€‚

### 2) åˆå§‹åŒ–æ•°æ®åº“ï¼ˆPrismaï¼‰

```bash
npm install
npm run prisma:generate
npm run prisma:migrate:dev
```

ï¼ˆå¯é€‰ï¼‰åˆå§‹åŒ–ç³»ç»Ÿé…ç½®/ç­‰çº§/RBACï¼š

```bash
npx tsx prisma/seed-system-config.ts
npx tsx prisma/seed-tier-config.ts
npx tsx prisma/seed-rbac.ts
```

> å¼€ç®±è¿›å…¥åå°ï¼ˆæ¨èåšæ³•ï¼‰ï¼šè®¾ç½® `BOOTSTRAP_ADMIN_ENABLED=true`ï¼Œå¹¶ç”¨ `BOOTSTRAP_ADMIN_ALLOWLIST` æŒ‡å®šå…è®¸æˆä¸ºâ€œé¦–ä¸ª superAdminâ€çš„é‚®ç®±æˆ–æ‰‹æœºå·ï¼ˆé€—å·åˆ†éš”ï¼‰ã€‚ç³»ç»Ÿåœ¨**å°šæ—  superAdmin**æ—¶ï¼Œä¼šå°†é¦–ä¸ªæˆåŠŸç™»å½•ä¸”å‘½ä¸­ç™½åå•çš„ç”¨æˆ·æˆäºˆ `superAdmin`ï¼ˆå¹¶ä½¿ç”¨æ•°æ®åº“é”é¿å…å¹¶å‘æŠ¢å ï¼‰ã€‚

### 3) å¯åŠ¨å¼€å‘ç¯å¢ƒ

```bash
npm run dev
```

æ‰“å¼€ `http://localhost:6002`ã€‚

## è¿è¡Œä¸é…ç½®

### Dockerï¼ˆè‡ªå¤‡ Postgresï¼‰

æœ¬ä»“åº“çš„å¢å¼ºèƒ½åŠ›ä¾èµ– Postgresã€‚ä½ å¯ä»¥ï¼š

- **æ–¹æ¡ˆ Aï¼ˆæ¨èï¼‰**ï¼šä½¿ç”¨ä½ è‡ªå·±çš„ Postgresï¼ˆæœ¬åœ°/äº‘ç«¯ï¼‰ï¼ŒæŠŠ `DATABASE_URL` å†™å…¥ `.env`/`.env.local`ã€‚
- **æ–¹æ¡ˆ B**ï¼šè‡ªè¡Œæ‰©å±• `docker-compose.yml` å¢åŠ  `postgres` æœåŠ¡ã€‚

### Firecrawlï¼ˆå¯é€‰ï¼‰

å¯ç”¨ URL å†…å®¹é¢„å¤„ç†ï¼š

- `FIRECRAWL_API_KEY`
- `FIRECRAWL_API_URL`ï¼ˆå¯é€‰ï¼Œè‡ªå®šä¹‰ Firecrawl API åœ°å€ï¼‰

## ç¤ºä¾‹

ä½ å¯ä»¥ç”¨è‡ªç„¶è¯­è¨€åˆ›å»º/ä¿®æ”¹ draw.io å›¾è¡¨ï¼›å¹¶å¯ç›´æ¥æŠŠç½‘é¡µ URL æ”¾è¿›æç¤ºè¯ä¸­ï¼ˆè‹¥å¯ç”¨ Firecrawlï¼Œä¼šè‡ªåŠ¨æŠ“å–ä¸»å†…å®¹åæ³¨å…¥ä¸Šä¸‹æ–‡ï¼‰ã€‚

<div align="center">
<table width="100%">
  <tr>
    <td colspan="2" valign="top" align="center">
      <strong>åŠ¨ç”»è¿çº¿ï¼šTransformer ç»“æ„</strong><br />
      <p><strong>Prompt:</strong> Give me a <strong>animated connector</strong> diagram of transformer's architecture.</p>
      <img src="./public/animated_connectors.svg" alt="Transformer Architecture with Animated Connectors" width="480" />
    </td>
  </tr>
  <tr>
    <td width="50%" valign="top">
      <strong>GCP æ¶æ„å›¾</strong><br />
      <p><strong>Prompt:</strong> Generate a GCP architecture diagram with <strong>GCP icons</strong>. In this diagram, users connect to a frontend hosted on an instance.</p>
      <img src="./public/gcp_demo.svg" alt="GCP Architecture Diagram" width="480" />
    </td>
    <td width="50%" valign="top">
      <strong>AWS æ¶æ„å›¾</strong><br />
      <p><strong>Prompt:</strong> Generate a AWS architecture diagram with <strong>AWS icons</strong>. In this diagram, users connect to a frontend hosted on an instance.</p>
      <img src="./public/aws_demo.svg" alt="AWS Architecture Diagram" width="480" />
    </td>
  </tr>
  <tr>
    <td width="50%" valign="top">
      <strong>Azure æ¶æ„å›¾</strong><br />
      <p><strong>Prompt:</strong> Generate a Azure architecture diagram with <strong>Azure icons</strong>. In this diagram, users connect to a frontend hosted on an instance.</p>
      <img src="./public/azure_demo.svg" alt="Azure Architecture Diagram" width="480" />
    </td>
    <td width="50%" valign="top">
      <strong>éšæ‰‹ç”»ï¼šå°çŒ«</strong><br />
      <p><strong>Prompt:</strong> Draw a cute cat for me.</p>
      <img src="./public/cat_demo.svg" alt="Cat Drawing" width="240" />
    </td>
  </tr>
</table>
</div>

## åŠŸèƒ½ç‰¹æ€§ï¼ˆç»§æ‰¿ä¸Šæ¸¸ï¼‰

- **LLM é©±åŠ¨çš„å›¾è¡¨åˆ›å»ºä¸ç¼–è¾‘**ï¼šé€šè¿‡è‡ªç„¶è¯­è¨€ç”Ÿæˆ/ä¿®æ”¹ draw.io XML
- **åŸºäºå›¾ç‰‡çš„å›¾è¡¨å¤åˆ»**ï¼šä¸Šä¼ å›¾ç‰‡/ç°æœ‰å›¾è¡¨ï¼Œè®© AI å¤åˆ»å¹¶å¢å¼º
- **PDF & æ–‡æœ¬ä¸Šä¼ **ï¼šä»æ–‡æ¡£ä¸­æŠ½å–å†…å®¹ç”Ÿæˆå›¾è¡¨
- **AI æ¨ç†å±•ç¤º**ï¼šå¯¹æ”¯æŒçš„æ¨¡å‹å±•ç¤ºæ€è€ƒè¿‡ç¨‹ï¼ˆOpenAI o1/o3/gpt-5ã€Geminiã€Claude ç­‰ï¼‰
- **å›¾è¡¨å†å²**ï¼šå˜æ›´è¿½è¸ªä¸å›æ»š
- **äº¤äº’å¼å¯¹è¯**ï¼šé€šè¿‡å¯¹è¯æŒç»­è¿­ä»£å›¾è¡¨
- **äº‘æ¶æ„å›¾æ”¯æŒ**ï¼šAWS/GCP/Azure å›¾æ ‡/é£æ ¼å¢å¼º
- **åŠ¨ç”»è¿çº¿**ï¼šæ”¯æŒç”ŸæˆåŠ¨æ€/åŠ¨ç”»è¿æ¥çº¿

## å¤š Provider æ”¯æŒ

- AWS Bedrockï¼ˆé»˜è®¤ï¼‰
- OpenAI
- Anthropic
- Google AI
- Azure OpenAI
- Ollama
- OpenRouter
- DeepSeek
- SiliconFlow

Provider è¯¦ç»†é…ç½®è¯´æ˜è§ï¼š`docs/ai-providers.md`ã€‚

## å·¥ä½œåŸç†

- **Next.js App Router**ï¼šUI ä¸ API
- **Vercel AI SDK**ï¼ˆ`ai` + `@ai-sdk/*`ï¼‰ï¼šæµå¼è¾“å‡ºã€å¤š Provider
- **react-drawio**ï¼šdraw.io æ¸²æŸ“ä¸äº¤äº’

å›¾è¡¨ä»¥ draw.io XML è¡¨ç¤ºï¼ŒAI é€šè¿‡å·¥å…·è°ƒç”¨ç”Ÿæˆ/ç¼–è¾‘ XMLï¼›æœ¬ Fork åœ¨æ­¤åŸºç¡€ä¸ŠåŠ å…¥ç»„ä»¶åŒ–ç»˜å›¾ã€ç»“æ„åŒ–æ“ä½œã€è‡ªåŠ¨ä¿®å¤ã€äº‘ç«¯åŒæ­¥ä¸æ²»ç†èƒ½åŠ›ã€‚

## é¡¹ç›®ç»“æ„

```
app/                  # Next.js App Routerï¼ˆå« admin/auth/apiï¼‰
features/             # Chat ç›¸å…³æ¨¡å—åŒ–å®ç°ï¼ˆä¼šè¯ã€äº‘åŒæ­¥ã€AI é€‚é…ï¼‰
components/           # å¯å¤ç”¨ UIï¼ˆshadcn/ui + Radixï¼‰
contexts/             # å…¨å±€çŠ¶æ€ï¼ˆdiagram/chatï¼‰
lib/                  # å·¥å…·ä¸ AI é€‚é…ï¼ˆå« A2UI ç»„ä»¶ç³»ç»Ÿã€XML ä¿®å¤ç­‰ï¼‰
server/               # æœåŠ¡ç«¯èƒ½åŠ›ï¼ˆauth/db/quota/é¢„å¤„ç†ï¼‰
prisma/               # æ•°æ®æ¨¡å‹ä¸è¿ç§»
docs/                 # æŠ€æœ¯æ–‡æ¡£ï¼ˆè®¤è¯/åˆè§„/è®¾è®¡ï¼‰
```

## å½’å±ä¸è®¸å¯

- **åŸé¡¹ç›®ï¼ˆUpstreamï¼‰**ï¼š`https://github.com/DayuanJiang/next-ai-draw-io`
- **æœ¬ä»“åº“ï¼ˆForkï¼‰**ï¼š`https://github.com/vmxmy/next-ai-draw-io`
- **è®¸å¯è¯**ï¼šApache-2.0ï¼ˆä¿ç•™åŸè®¸å¯ï¼›æœ¬ä»“åº“ä¸ºè¡ç”Ÿä½œå“ï¼‰
- åˆè§„å®¡è®¡ä¸è¡ç”Ÿä½œå“è¯´æ˜ï¼š`docs/LICENSE_COMPLIANCE_AUDIT.md`
